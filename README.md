knowledge-base-generator
========================

Проект позволяет конвертировать базу знаний расположенную внутри git репозитория в html и потом залить полученные 
файлы в github репозиторий, где включена функция pages.

Содержание:

- [Сборка образа для конвертации и публикации свежей версии базы знаний через CI](#Сборка-образа-для-конвертации-и-публикации-свежей-версии-базы-знаний-через-CI)
- [Локальный запуск](#Локальный-запуск)
  - [Конвертация](#Конвертация)
  - [Публикация изменений](#Публикация-изменений)



<a name='Сборка-образа-для-конвертации-и-публикации-свежей-версии-базы-знаний-через-CI'></a>
## Сборка образа для конвертации и публикации свежей версии базы знаний через CI

Для сборки docker образа, который будет потом использоваться в GitLab CI для автоматической публикации изменений, 
необходимо выполнить:

```
make build-img
make push-img
```


<a name='Локальный-запуск'></a>
## Локальный запуск

<a name='Конвертация'></a>
### Конвертация

> Перед запуском конвертации нужно убедиться, что доступ к git репозиторию с базой знаний возможен через ssh.

```
make generate-local-knowledge-base
```

После выполнения команды в корне проекта появится папка `source` с актуальной версией базы знаний, а так же будет 
создана папка `result_dir` с html файлами, которые можно будет просматривать локально.

Если необходимо будет получить файлы, которые можно вручную залить в репозиторий используемый github pages, то 
необходимо выполнить следующую команду:

```
make generate-web-knowledge-base
```

<a name='Публикация-изменений'></a>
### Публикация изменений

Для облегчения ручной публикации изменений базы знаний есть специальный скрипт, который сам собирает и заливает 
актуальную версию базы знаний в github репозиторий, где включена функция pages.

```
make manual-update-knowledge-base
```
